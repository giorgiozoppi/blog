{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/can-i-use-hooks-today","result":{"data":{"site":{"siteMetadata":{"siteUrl":"https://jocorner.dev"}},"markdownRemark":{"id":"cd7166e4-5173-56f2-b427-9c1bbb240342","excerpt":"Node.js is an open-source, cross-platform JavaScript run-time environment for executing JavaScript code server-side. Historically, JavaScript was used primarily…","html":"<p>Node.js is an open-source, cross-platform JavaScript run-time environment for executing JavaScript code server-side. Historically, JavaScript was used primarily for client-side scripting, in which scripts written in JavaScript are embedded in a webpage’s HTML, to be run client-side by a JavaScript engine in the user’s web browser.</p>\n<p>Node.js enables JavaScript to be used for server-side scripting, and runs scripts server-side to produce dynamic web page content before the page is sent to the user’s web browser.</p>\n<p>Consequently, Node.js has become one of the foundational elements of the “JavaScript everywhere” paradigm, allowing web application development to unify around a single programming language, rather than rely on a different language for writing server side scripts.</p>\n<h2>Installing Node</h2>\n<p>Node.js is very easy to install. Simply go to <link><a href=\"https://nodejs.org\">https://nodejs.org</a><link> and follow the instructions. Ok you have installed Node, now what?</p>\n<p>Once installed you’ll have access to a new command called “node”. You can use the node command in two different ways. The first is with no arguments. This will open an interactive shell (REPL: read-eval-print-loop) where you can execute raw JavaScript code.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">$ node\n<span class=\"token operator\">></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello World Node.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nHello World\n<span class=\"token keyword\">undefined</span></code></pre></div>\n<h3>Hello World Node.js</h3>\n<p>In the above example I typed “console.log(‘Hello World’)” into the shell and hit enter. Node will then execute that code and we can see our logged message. It also prints “undefined” because it displays the return value of each command and console.log doesn’t return anything.</p>\n<p>The other way to run Node is by providing it a JavaScript file to execute. This is almost always how you’ll be using it.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ node hello.js\nHello World Node.js</code></pre></div>\n<p>In this example, I moved the console.log message into a file then passed that file to the node command as an argument. Node then runs the JavaScript in that file and prints “Hello World”.</p>\n<h3>File I/O with node.js</h3>\n<p>Running plain JavaScript is fun and all, but not very useful. This is why Node.js also includes a powerful set of libraries (modules) for doing real things. In this first example I’m going to open a log file and parse it.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> example_log.txt\n<span class=\"token number\">2013</span>-08-09T13:50:33.166Z A <span class=\"token number\">2</span>\n<span class=\"token number\">2013</span>-08-09T13:51:33.166Z B <span class=\"token number\">1</span>\n<span class=\"token number\">2013</span>-08-09T13:52:33.166Z C <span class=\"token number\">6</span>\n<span class=\"token number\">2013</span>-08-09T13:53:33.166Z B <span class=\"token number\">8</span>\n<span class=\"token number\">2013</span>-08-09T13:54:33.166Z B <span class=\"token number\">5</span></code></pre></div>\n<p>What this log data means is not important, but basically each message contains a date, a letter, and a value. I want to add up the values for each letter.</p>\n<p>The first thing we need to do it read the contents of the file.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Load the fs (filesystem) module</span>\n<span class=\"token keyword\">var</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Read the contents of the file into memory.</span>\nfs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'example_log.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> logData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// If an error occurred, throwing it will</span>\n  <span class=\"token comment\">// display the exception and end our app.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// logData is a Buffer, convert to string.</span>\n  <span class=\"token keyword\">var</span> text <span class=\"token operator\">=</span> logData<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Let’s try to do some timing and executing:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">time</span> node parse.js \n<span class=\"token number\">2013</span>-08-09T13:50:33.166Z A <span class=\"token number\">2</span>\n<span class=\"token number\">2013</span>-08-09T13:51:33.166Z B <span class=\"token number\">1</span>\n<span class=\"token number\">2013</span>-08-09T13:52:33.166Z C <span class=\"token number\">6</span>\n<span class=\"token number\">2013</span>-08-09T13:53:33.166Z B <span class=\"token number\">8</span>\n<span class=\"token number\">2013</span>-08-09T13:54:33.166Z B <span class=\"token number\">5</span>\n\n\nreal\t0m0.308s\nuser\t0m0.290s\nsys\t0m0.020s</code></pre></div>\n<p>Fortunately Node.js makes file I/O really easy with the built-in filesystem (fs) module. The fs module has a function named readFile that takes a file path and a callback. The callback will be invoked when the file is done being read. The file data comes in the form of a Buffer, which is basically a byte array. We can convert it to a string using the toString() function.</p>\n<p>Now let’s add in the parsing. This is pretty much normal JavaScript so I will not go into any details.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// Load the fs (filesystem) module.</span>\n<span class=\"token keyword\">var</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Read the contents of the file into memory.</span>\nfs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'example_log.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> logData</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// If an error occurred, throwing it will</span>\n  <span class=\"token comment\">// display the exception and kill our app.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// logData is a Buffer, convert to string.</span>\n<span class=\"token keyword\">var</span> text <span class=\"token operator\">=</span> logData<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> results <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Break up the file into lines.</span>\n<span class=\"token keyword\">var</span> lines <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nlines<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">line</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> parts <span class=\"token operator\">=</span> line<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> letter <span class=\"token operator\">=</span> parts<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">var</span> count <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>parts<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>results<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        results<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    results<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// { A: 2, B: 14, C: 6 }</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now when you pass this file as the argument to the node command it will print the result and exit.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ node my_parser.js\n<span class=\"token punctuation\">{</span> A: <span class=\"token number\">2</span>, B: <span class=\"token number\">14</span>, C: <span class=\"token number\">6</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>I use Node.js a lot for scripting like this. It’s much easier and a more powerful alternative to bash scripts.</p>\n<h2>Asynchronous Callbacks in node.js</h2>\n<p>As you saw in the previous example, the typical pattern in Node.js is to use asynchronous callbacks. Basically you’re telling it to do something and when it’s done it will call your function (callback). This is because Node is single-threaded. While you’re waiting on the callback to fire, Node can go off and do other things instead of blocking until the request is finished.</p>\n<p>This is especially important for web servers. It’s pretty common in modern web applications to access databases. While you’re waiting for the database to return results Node can process more requests. This allows you to handle thousands of concurrent connections with very little overhead, compared to creating a separate thread for each connection.</p>\n<h3>Create a HTTP Server with node.js</h3>\n<p>Like I said before Node doesn’t do anything out of the box. One of the built-in modules makes it pretty easy to create a basic HTTP server, which is the example on the Node.js homepage.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> http <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhttp<span class=\"token punctuation\">.</span><span class=\"token function\">createServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">writeHead</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'Content-Type'</span><span class=\"token operator\">:</span> <span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello World\\n'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">8080</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Server running on port 8080.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>When I say basic, I mean basic. This is not a full-featured HTTP server. It can’t serve any HTML file or images. In fact, no matter what you request, it will return ‘Hello World’. However, you can run this and hit <a href=\"http://localhost:8080\">http://localhost:8080</a> in your browser and you’ll see the text.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ node my_web_server.js</code></pre></div>\n<p>You might notice something a little different now. Your Node.js application no longer exits. This is because you created a server and your Node.js application will continue to run and respond to requests until you kill it yourself.</p>\n<p>If you want this to be a full-featured web server, then you have to do that work. You have to check what was requested, read the appropriate files, and send the content back. There’s good news, though. People have already done this hard work for you.</p>\n<h2>Express for Node.js</h2>\n<p>Express is a framework that makes creating most normal websites very simple. The first thing you have to do it install it. Along with the node command you also have access to a command called “npm”. This tool gives you access to an enormous collection of modules created by the community, and one of them is Express.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> /my/app/location\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> express</code></pre></div>\n<p>When you install a module, it will put it in a node_modules folder inside your application directory. You can now require it like any built-in module. Let’s create a basic static file server using Express.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\napp <span class=\"token operator\">=</span> <span class=\"token function\">express</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>express<span class=\"token punctuation\">.</span><span class=\"token function\">static</span><span class=\"token punctuation\">(</span>__dirname <span class=\"token operator\">+</span> <span class=\"token string\">'/public'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">8080</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ node my_static_file_server.js</code></pre></div>\n<p>You now have a pretty capable static file server. Anything you put in the /public folder can now be requested by your browser and displayed. HTML, images, almost anything. So for example, if you put an image called “my<em>image.png” inside the public folder, you can access it using your browser by going to <a href=\"http://localhost:8080/my\">http://localhost:8080/my</a></em>image.png. Of course Express has many many more features, but you can look those up as you continue developing.</p>\n<h2>NPM</h2>\n<p>We touched on npm a little in the previous section, but I want to emphasize how important this tool will be to normal Node.js development. There are thousands of modules available that solve almost all typical problems that you’re likely to encounter. Remember to check npm before re-inventing the wheel. It’s not unheard of for a typical Node.js application to have dozens of dependencies.</p>\n<p>In the previous example we manually installed Express. If you have a lot of dependencies, that’s not going to be a very good way to install them. That’s why npm makes use of a package.json file.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"MyStaticServer\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"version\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"dependencies\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"express\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"3.3.x\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>A package.json file contains an overview of your application. There are a lot of available fields, but this is pretty much the minimum. The dependencies section describes the name and version of the modules you’d like to install. In this case I’ll accept any version of Express 3.3. You can list as many dependencies as you want in this section.</p>\n<p>Now instead of installing each dependency separately, we can run a single command and install all of them.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>When you run this command npm will look in the current folder for a package.json file. If it finds one, it will install every dependency listed.</p>\n<h2>Code Organization in node.js</h2>\n<p>So far we’ve only been using a single file, which isn’t very maintainable. In most applications your code will be split into several files. There’s no standard or enforced organization to what files go where. There’s no concept of MVVM or\nModel View Controller. You can do whatever you want, but be aware to do not mess out.</p>\n<p>Let’s re-factor the log parsing script. It’s much more testable and more maintainable if we separate out the parsing logic into its own file.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Parser</span>  <span class=\"token punctuation\">{</span>\n\n  <span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> results <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> lines <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n    lines<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">line</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> parts <span class=\"token operator\">=</span> line<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">' '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> letter <span class=\"token operator\">=</span> parts<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>parts<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>results<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        results<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      results<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> results<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>What I did was create a new file to hold the logic for parsing logs. This is just standard JavaScript and there are many ways to encapsulate this code. I chose to define a new JavaScript object because it’s easy to unit test.</p>\n<p>The important piece to this is the “module.exports” line. This tells Node what you’re exporting from this file. In this case I’m exporting the constructor, so users can create instances of my Parser object. You can export whatever you want.</p>\n<p>Now let’s look at how to import this file and make use of my new Parser object.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Parser <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'parser.js'</span>\n<span class=\"token comment\">// Load the fs (filesystem) module.</span>\n<span class=\"token keyword\">var</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Read the contents of the file into memory.</span>\nfs<span class=\"token punctuation\">.</span><span class=\"token function\">readFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">'example_log.txt'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> logData</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">// If an error occurred, throwing it will</span>\n  <span class=\"token comment\">// display the exception and kill our app.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> err<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// logData is a Buffer, convert to string.</span>\n  <span class=\"token keyword\">var</span> text <span class=\"token operator\">=</span> logData<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Create an instance of the Parser object.</span>\n  <span class=\"token keyword\">var</span> parser <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Parser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Call the parse function.</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parser<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// { A: 2, B: 14, C: 6 }</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Files are included exactly like modules, except you provide a path instead of a name. The .js extension is implied so you can leave it off if you want.</p>\n<p>Since I exported the constructor that is what will be returned from the require statement. I can now create instances of my Parser object and use it.</p>\n<h2>Summary</h2>\n<p>Hopefully this tutorial can bridge the gap between downloading Node.js and building your first widget. Node.js is an extremely powerful and flexible technology that can solve a wide variety of problems.</p>\n<p>I want everyone to remember that Node.js is only bound by your imagination. The core libraries are very carefully designed to provide the puzzle pieces needed to build any picture. Combine those with the modules available in npm and it’s amazing how quickly you can begin building very complex and compelling applications.</p>","fields":{"slug":"can-i-use-hooks-today"},"frontmatter":{"title":"Exploring Node.js","date":"16 Oct, 2020","description":"Node.js is an open-source, cross-platform JavaScript run-time environment for executing JavaScript code server-side. Historically, JavaScript was used primarily for client-side scripting, in which scripts written in JavaScript are embedded in a webpage’s HTML, to be run client-side by a JavaScript engine in the user’s web browser.","tags":["javascript","nodejs","webapp"],"cover":{"publicURL":"/static/76e9fc5320b531ff1176e36c67e333d5/preview.jpg","childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='325'%20height='325'%20viewBox='0%200%20325%20325'%20preserveAspectRatio='none'%3e%3cpath%20d='M228%2066c-2%202-2%202-2%2022l-1%2021h-3c-2-1-4-2-6-1l-34%2020c-1%203-2%2037%200%2041a4563%204563%200%200136%2022l34-18c4-3%204-4%204-50l-1-46c-2-2-19-12-23-13l-4%202M38%20116c-11%206-17%2010-18%2012-1%203-2%2047%200%2051%202%205%205%205%2016-1%2014-8%2013-7%2013-21v-12l4-2%203-3%204%202%203%202v10c0%2015%200%2016%2013%2023%2012%207%2015%207%2017%202%202-3%201-48%200-51-2-3-32-21-36-21-2%200-9%203-19%209m81%201c-11%206-17%2010-18%2012v40c2%203%2032%2021%2037%2021%204%200%2034-18%2036-21%202-4%201-39-1-42-3-3-33-20-36-20l-18%2010m162%200c-20%2011-19%209-19%2034%200%2016%201%2018%203%2020%203%203%2032%2019%2035%2019s22-11%2023-13c3-4%200-7-10-12l-9-6c0-2%204-3%206-2s3%201%209-2l6-3v-32l-12-6-13-7c-2%200-10%204-19%2010m-159%202l-15%2010c-2%201-2%204-2%2020v19l16%209%2017%209%2016-9%2016-9v-38l-5-3-28-16-15%208m93%2024c-5%203-5%2010%200%2012%208%205%2014-7%206-12-3-2-3-2-6%200m81%201c-4%202-4%207%201%2010%204%203%209%200%209-5%200-6-5-8-10-5m-138%2042c-21%2012-19%209-19%2033l1%2022c3%203%2014%209%2017%209l3%202c2%203%2014%209%2017%209%204-1%2033-17%2035-20%202-2%202-5%202-17v-15l3%201c4%201%209-1%2011-4%205-9-6-18-14-12l-2%202-16-10-20-9-18%209m2%203l-16%2010-1%2020c0%2021-1%2020%208%2024%206%204%2010%204%2013%201l3-2v-37h-5v35l-3%201-7-3-4-3-1-16v-17l14-8%2015-8%2015%208%2014%208v34l-14%208-14%208-4-2c-4-2-9-2-9%200%200%201%2010%207%2012%207l32-18c3-3%203-37%200-40l-32-18-16%208m3%209l-12%207v28l3%201%203%202%201-16%201-17c1-2%209-3%2011-1h5c5-2%2013-3%2017-1%205%202%203%200-6-5l-10-5-13%207m71%203c0%207-6%2014-12%2014h-3v12c0%2017%200%2017-21%2029-16%209-17%209-23%209s-6%200-4%202c5%203%2012%202%2021-4l12-6c7-4%2013-8%2012-9l1-1c2%202%204-5%203-17v-12h4l4-2%202-2c1%201%202%200%203-1l2-15-1%203m-56%204c-4%201-6%203-7%206-1%207%202%209%2014%2011%208%201%2011%204%206%207s-16%200-16-4l-2-1c-3%200-3%201-2%204%203%207%2020%209%2025%203%203-3%203-9%200-11l-9-3c-8-1-11-2-11-4%200-5%2014-6%2016%200%201%201%201%202%203%201%203%200%203%200%202-3l-4-5c-2-1-11-2-15-1m-7%2035c-1%204%200%204%203%206%203%201%203%201%2010-3l7-4h-6a35%2035%200%2001-14-3v4'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.5025641025641026,"src":"/static/76e9fc5320b531ff1176e36c67e333d5/b5bdb/preview.jpg","srcSet":"/static/76e9fc5320b531ff1176e36c67e333d5/40917/preview.jpg 293w,\n/static/76e9fc5320b531ff1176e36c67e333d5/3c0b6/preview.jpg 585w,\n/static/76e9fc5320b531ff1176e36c67e333d5/b5bdb/preview.jpg 1170w,\n/static/76e9fc5320b531ff1176e36c67e333d5/4b0b3/preview.jpg 1755w,\n/static/76e9fc5320b531ff1176e36c67e333d5/8d3de/preview.jpg 1800w","srcWebp":"/static/76e9fc5320b531ff1176e36c67e333d5/2e5a7/preview.webp","srcSetWebp":"/static/76e9fc5320b531ff1176e36c67e333d5/05ceb/preview.webp 293w,\n/static/76e9fc5320b531ff1176e36c67e333d5/5c538/preview.webp 585w,\n/static/76e9fc5320b531ff1176e36c67e333d5/2e5a7/preview.webp 1170w,\n/static/76e9fc5320b531ff1176e36c67e333d5/bc1b0/preview.webp 1755w,\n/static/76e9fc5320b531ff1176e36c67e333d5/44939/preview.webp 1800w","sizes":"(max-width: 1170px) 100vw, 1170px"}}}}},"allMarkdownRemark":{"edges":[]}},"pageContext":{"slug":"can-i-use-hooks-today","previous":null,"next":{"fields":{"slug":"/luislost-challenge/"},"frontmatter":{"title":"Luis lost in the forest challenge","tags":["cpp","algorithms"]}},"tag":["javascript","nodejs","webapp"]}},"staticQueryHashes":["2620024091","63159454"]}